<!DOCTYPE html>
<html lang="en">
   <title>CS 290 Assignment 3 part 2</title>
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" type="text/css" href="../cs290-assignment3-part2/css/bootstrap.css">
      <link rel="stylesheet" type="text/css" href="../cs290-assignment3-part2/css/dataTables.bootstrap.css">
      <script type="text/javascript" charset="utf8" src="../cs290-assignment3-part2/scripts/jquery.js"></script>
      <script type="text/javascript" charset="utf8" src="../cs290-assignment3-part2/scripts/bootstrap.js"></script>
      <script type="text/javascript" charset="utf8" src="../cs290-assignment3-part2/scripts/jquery.dataTables.js"></script>
      <script type="text/javascript" charset="utf8" src="../cs290-assignment3-part2/scripts/dataTables.bootstrap.js"></script>
      <script type="text/javascript">
         $(document).ready(function() {
             var table = $('#gists').DataTable({
                  "paging": true,
                 "ordering": true,
                 "scrollCollapse": true,
                 "processing": true,
                  "scrollX": true,
                  "language": {
    "zeroRecords":"No Gists to display",
    "emptyTable": "Let's search for some Gists!"
  },
                 "lengthMenu": [[6, 30],[6, "ALL"]],
                 "ajax": 
                 {
                    "url": "https://api.github.com/gists",
                     "dataSrc": "data",
                     "type": "POST",
                     "dataType": "jsonp",
                     "data": function(d)
                     {
                         
                     }
                 },
                  "columns": [
            { "data": "url",
               "visible": false
            },
            {
                "data": "description",
                "render": function(data, type, row)
                {
                    if(data === null || data === "")
                    {
                        return "<a href="+row['url']+" target='_blank'>No Description</a>";
                    }
                    else
                    return "<a href="+row['url']+" target='_blank'>"+data+"</a>";
                }
            },
            { "data": "id" },
               { "data": "files",
               "render": function(data)
               {
                          var name = Object.keys(data)[0];
                          var filename = data[name]['filename'];
                          if(filename === null)
                          {
                              return "No FileName";
                          }
                          else
                  return filename;
               }
            },
            { "data": "files",
               "render": function(data)
               {
                          var name = Object.keys(data)[0];
                          var language = data[name]['language'];
                          if(language === null)
                          {
                              return "No Language";
                          }
                          else
                  return language;
               }
            },
            				{
					"targets": 5,
					"render": function(){
						return '<input class="btn btn-default btn-primary" type="button" value="Add to Favorites">';
					}
				}
            
         
         ]
             });
             
             
             				$('#search').click(function (){
					table.draw();
		    } );
         
         
         });
      </script>
   </head>
   <body>
      <div class='container'>
         <div class="row">
            <div class="col-md-12">
               <h1 class="page-header">Assignment 3, Part 2: Adding AJAX and HTML</h1>
            </div>
         </div>
         <div class="row">
            <div class="col-md-12">
               <p class="lead">In this assignment I will build on my JavaScript skills to make a functional website that uses 
                  asynchronous calls to pull data from an online provider. In addition to this I will allow users to mark favorites 
                  and save them using local storage so that they are displayed when they return to the page without the need for any 
                  additional AJAX calls.
               </p>
            </div>
         </div>
         <div class="row">
            <div class="col-md-3">
               <div class="checkbox">
                 <label>
                   <input type="checkbox" id="blankCheckbox" value="Python" aria-label="Python">Python</input>
                 </label>
               </div>
                              <div class="checkbox">
                 <label>
                   <input type="checkbox" id="blankCheckbox" value="JSON" aria-label="JSON">JSON</input>
                 </label>
               </div>
                              <div class="checkbox">
                 <label>
                   <input type="checkbox" id="blankCheckbox" value="JavaScript " aria-label="JavaScript ">JavaScript </input>
                 </label>
               </div>
                              <div class="checkbox">
                 <label>
                   <input type="checkbox" id="blankCheckbox" value="SQL" aria-label="SQL">SQL</input>
                 </label>
               </div>
            </div>
            <div class="col-md-3">
                 <div class="form-group">
                  <button type="button" class="btn btn-default" id="search">Search</button>
              </div>
            </div>
         </div>
         <div class="row">
            <div class="col-md-12">
               <table class="table table-striped table-bordered" id="gists">
                  <thead>
                     <tr>
                        <th>URL</th>
                        <th>Description</th>
                        <th>ID</th>
                        <th>FileName</th>
                        <th>Language</th>
                        <th>Add to Favorites</th>
                     </tr>
                  </thead>
               </table>
            </div>
         </div>
      </div>
   </body>
</html>